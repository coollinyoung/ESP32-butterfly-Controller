
請為 "ESP32-butterfly-Controller" 專案生成程式碼，該專案旨在將 ESP32 晶片轉換為具有直覺、響應迅速的 Web 介面的模型遙控系統。

**專案目標**:
開發一個 ESP32 韌體和一個配套的 Web 應用程式，使航空模型愛好者能透過手機瀏覽器（iOS Safari, Android Chrome）連接到 ESP32 建立的 Wi-Fi AP (192.168.5.1)，並使用虛擬搖桿即時控制連接至 GPIO 32 和 33 的兩個舵機進行正反轉、速度調整及差速轉向。同時，提供 Web 介面以設定舵機轉動角度幅度。

---

**ESP32 韌體開發需求 (Arduino Framework)**:

1.  **Wi-Fi AP 模式配置**:
    *   將 ESP32 配置為 Wi-Fi 接入點 (AP)。
    *   設定固定的 IP 地址為 `192.168.5.1`。
    *   可自定義 AP 的 SSID 和密碼。
2.  **嵌入式 Web Server**:
    *   實現一個輕量級的 Web Server，用於託管和提供 Web 應用程式的靜態檔案 (HTML, CSS, JavaScript)。
    *   確保 `http://192.168.5.1` 可被手機瀏覽器存取。
3.  **WebSocket Server**:
    *   建立一個 WebSocket Server，用於手機 Web 應用程式與 ESP32 之間的全雙工、低延遲即時通訊。
    *   處理來自 Web App 的搖桿位置數據。
4.  **舵機控制模組**:
    *   使用 ESP32 的 PWM 功能控制兩個舵機，分別連接至 GPIO 32 和 GPIO 33。
    *   將接收到的 WebSocket 數據轉換為舵機的 PWM 信號。
    *   **垂直方向控制 (速度)**: 根據虛擬搖桿的垂直位置，同步調整兩個舵機的反覆速度。搖桿向上拖曳，速度加快；向下拖曳，速度減慢。
    *   **水平方向控制 (差速轉向)**: 根據虛擬搖桿的水平位置，實現兩個舵機的差速控制。搖桿向左時，右舵機速度加快，左舵機速度減慢；搖桿向右時，右舵機速度減慢，左舵機速度加快。
    *   **舵機角度幅度設定**: 實作邏輯以接收 Web 介面傳來的最大轉動角度幅度設定，並限制舵機在此範圍內運動。
5.  **錯誤處理與狀態管理**:
    *   基礎的連線狀態監控和錯誤提示機制。

---

**Web 應用程式開發需求 (HTML5, CSS3, JavaScript - 單頁應用 SPA)**:

1.  **響應式 UI 設計**:
    *   建立一個適用於手機瀏覽器的響應式介面，確保在不同尺寸的手機上顯示正常。
2.  **虛擬搖桿組件**:
    *   設計一個視覺化的虛擬搖桿 UI，支援觸控拖曳操作 (上下、左右)。
    *   搖桿的拖曳位置應能實時回饋給使用者。
3.  **WebSocket Client**:
    *   實現一個 WebSocket Client，連接到 ESP32 上的 WebSocket Server (`ws://192.168.5.1/ws` 或類似路徑)。
    *   實時發送虛擬搖桿的垂直和水平位置數據給 ESP32。
4.  **舵機角度幅度設定介面**:
    *   提供一個輸入框或滑塊，允許使用者設定舵機的最大轉動角度幅度。
    *   當使用者輸入值並確認後，透過 WebSocket 將設定值發送給 ESP32。
5.  **連線狀態與錯誤顯示**:
    *   在介面中顯示與 ESP32 的連線狀態（例如：已連線、連線中斷）。
    *   當發生連線問題或其他錯誤時，顯示友善的提示訊息。

---

**通訊協議**:

*   ESP32 韌體與 Web 應用程式之間所有即時控制數據的交換應透過 WebSocket 協議完成。

請考慮提供一個完整的專案結構，包含 ESP32 的 `.ino` 或 `.cpp` 檔案，以及 Web 應用程式的 `index.html`, `style.css`, `script.js` 檔案，並在每個檔案中包含關鍵的程式碼片段和註釋。
